"use strict";(self["webpackChunkforum_communautaire"]=self["webpackChunkforum_communautaire"]||[]).push([[375],{34(e,s,i){i.d(s,{A:()=>c});var n=i(144),a=i(768),t=i(51);const l=(e,s)=>{const i=(0,n.KR)(null),l=(0,n.KR)(null),c=(0,n.KR)(!1);let o=t.$_.collection(e);s&&(o=o.where(...s));const r=o.onSnapshot(e=>{let s=[];e.docs.forEach(e=>{e.data().createdAt&&s.push({...e.data(),id:e.id})}),i.value=s,l.value=null,c.value=!1},e=>{console.log(e.message),i.value=null,l.value="could not fetch the data",c.value=!1});return(0,a.nT)(e=>{e(()=>r())}),{error:l,documents:i,isPending:c}},c=l},375(e,s,i){i.r(s),i.d(s,{default:()=>X});var n=i(768),a=i(130),t=i(232);const l={class:"home"},c={class:"home-container"},o={class:"hero-section"},r={class:"hero-content"},u={class:"search-section"},d={class:"search-container"},k={class:"categories-section"},b={class:"categories-grid"},v=["onClick"],g={class:"category-count"},p={class:"controls-section"},L={class:"sort-buttons"},h={class:"discussions-section"},m={key:0,class:"loading-state"},f={key:1,class:"error-message"},y={key:2,class:"discussions-list"},C={key:3,class:"empty-state"};function _(e,s,i,_,D,A){const W=(0,n.g2)("Navbar"),w=(0,n.g2)("router-link"),E=(0,n.g2)("DiscussionCard");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(W),(0,n.Lk)("div",c,[(0,n.Lk)("div",o,[(0,n.Lk)("div",r,[s[7]||(s[7]=(0,n.Lk)("h1",null,"Bienvenue sur Forum Hub",-1)),s[8]||(s[8]=(0,n.Lk)("p",null,"Rejoignez une communauté passionnée. Discutez, partagez et apprenez ensemble.",-1)),(0,n.bF)(w,{to:"/create-discussion",class:"hero-btn"},{default:(0,n.k6)(()=>[...s[6]||(s[6]=[(0,n.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1),(0,n.eW)(" Créer une Discussion ",-1)])]),_:1})]),s[9]||(s[9]=(0,n.Lk)("div",{class:"hero-decoration"},[(0,n.Lk)("div",{class:"hero-circle circle-1"}),(0,n.Lk)("div",{class:"hero-circle circle-2"}),(0,n.Lk)("div",{class:"hero-circle circle-3"})],-1))]),(0,n.Lk)("div",u,[(0,n.Lk)("div",d,[s[11]||(s[11]=(0,n.Lk)("i",{class:"bi bi-search search-icon"},null,-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>_.searchQuery=e),onInput:s[1]||(s[1]=(...e)=>_.handleSearch&&_.handleSearch(...e)),placeholder:"Rechercher des discussions...",class:"search-input"},null,544),[[a.Jo,_.searchQuery]]),_.searchQuery?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"search-btn",onClick:s[2]||(s[2]=e=>_.searchQuery="")},[...s[10]||(s[10]=[(0,n.Lk)("i",{class:"bi bi-x-lg"},null,-1)])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",k,[s[13]||(s[13]=(0,n.Lk)("div",{class:"section-header"},[(0,n.Lk)("h2",null,"Catégories"),(0,n.Lk)("p",null,"Explorez les différentes thématiques")],-1)),(0,n.Lk)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.categories,e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,onClick:s=>_.filterByCategory(e.id),class:(0,t.C4)(["category-card",{active:_.selectedCategory===e.id}])},[(0,n.Lk)("div",{class:"category-icon",style:(0,t.Tr)({background:e.color})},[(0,n.Lk)("i",{class:(0,t.C4)(e.icon)},null,2)],4),(0,n.Lk)("h3",null,(0,t.v_)(e.name),1),(0,n.Lk)("p",null,(0,t.v_)(e.description),1),(0,n.Lk)("div",g,[s[12]||(s[12]=(0,n.Lk)("i",{class:"bi bi-chat-dots"},null,-1)),(0,n.eW)(" "+(0,t.v_)(_.getCategoryCount(e.id))+" discussions ",1)])],10,v))),128))])]),(0,n.Lk)("div",p,[(0,n.Lk)("div",L,[(0,n.Lk)("button",{class:(0,t.C4)(["sort-btn",{active:"recent"===_.sortBy}]),onClick:s[3]||(s[3]=e=>_.sortBy="recent")},[...s[14]||(s[14]=[(0,n.Lk)("i",{class:"bi bi-clock-fill"},null,-1),(0,n.eW)(" Récentes ",-1)])],2),(0,n.Lk)("button",{class:(0,t.C4)(["sort-btn",{active:"popular"===_.sortBy}]),onClick:s[4]||(s[4]=e=>_.sortBy="popular")},[...s[15]||(s[15]=[(0,n.Lk)("i",{class:"bi bi-fire"},null,-1),(0,n.eW)(" Populaires ",-1)])],2),(0,n.Lk)("button",{class:(0,t.C4)(["sort-btn",{active:"trending"===_.sortBy}]),onClick:s[5]||(s[5]=e=>_.sortBy="trending")},[...s[16]||(s[16]=[(0,n.Lk)("i",{class:"bi bi-graph-up-arrow"},null,-1),(0,n.eW)(" Tendances ",-1)])],2)])]),(0,n.Lk)("div",h,[_.isPending?((0,n.uX)(),(0,n.CE)("div",m,[...s[17]||(s[17]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("p",null,"Chargement des discussions...",-1)])])):_.error?((0,n.uX)(),(0,n.CE)("div",f,[s[18]||(s[18]=(0,n.Lk)("i",{class:"bi bi-exclamation-triangle-fill"},null,-1)),(0,n.Lk)("span",null,(0,t.v_)(_.error),1)])):_.filteredDiscussions&&_.filteredDiscussions.length?((0,n.uX)(),(0,n.CE)("div",y,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.filteredDiscussions,e=>((0,n.uX)(),(0,n.Wv)(E,{key:e.id,discussion:e},null,8,["discussion"]))),128))])):((0,n.uX)(),(0,n.CE)("div",C,[s[20]||(s[20]=(0,n.Lk)("i",{class:"bi bi-chat-text"},null,-1)),s[21]||(s[21]=(0,n.Lk)("h3",null,"Aucune discussion trouvée",-1)),s[22]||(s[22]=(0,n.Lk)("p",null,"Soyez le premier à lancer la conversation!",-1)),(0,n.bF)(w,{to:"/create-discussion",class:"modern-btn-primary"},{default:(0,n.k6)(()=>[...s[19]||(s[19]=[(0,n.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1),(0,n.eW)(" Créer une Discussion ",-1)])]),_:1})]))])])])}var D=i(144),A=i(859),W=i(34),w=i(820);const E={name:"Home",components:{Navbar:A.A,DiscussionCard:w.A},setup(){const{documents:e,error:s,isPending:i}=(0,W.A)("discussions"),a=(0,D.KR)(""),t=(0,D.KR)(null),l=(0,D.KR)("recent"),c=(0,D.KR)([{id:"general",name:"Général",icon:"bi bi-chat-dots-fill",description:"Discussions générales",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"tech",name:"Technologie",icon:"bi bi-laptop",description:"Programmation et tech",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{id:"support",name:"Support",icon:"bi bi-question-circle-fill",description:"Questions et aide",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"feedback",name:"Feedback",icon:"bi bi-star-fill",description:"Suggestions et retours",color:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},{id:"announcements",name:"Annonces",icon:"bi bi-megaphone-fill",description:"Annonces importantes",color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},{id:"other",name:"Autres",icon:"bi bi-three-dots",description:"Autres sujets",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"}]),o=s=>e.value?e.value.filter(e=>e.category===s).length:0,r=(0,n.EW)(()=>{if(!e.value)return[];let s=[...e.value];if(t.value&&(s=s.filter(e=>e.category===t.value)),a.value){const e=a.value.toLowerCase();s=s.filter(s=>s.title.toLowerCase().includes(e)||s.content.toLowerCase().includes(e))}return"recent"===l.value?s.sort((e,s)=>s.createdAt?.seconds-e.createdAt?.seconds):"popular"===l.value?s.sort((e,s)=>(s.replies||0)-(e.replies||0)):"trending"===l.value&&s.sort((e,s)=>(s.views||0)-(e.views||0)),s}),u=e=>{t.value===e?t.value=null:t.value=e},d=()=>{};return{discussions:e,error:s,isPending:i,searchQuery:a,selectedCategory:t,sortBy:l,categories:c,filteredDiscussions:r,filterByCategory:u,handleSearch:d,getCategoryCount:o}}};var F=i(241);const R=(0,F.A)(E,[["render",_],["__scopeId","data-v-53fab244"]]),X=R},820(e,s,i){i.d(s,{A:()=>y});var n=i(768),a=i(232);const t={class:"d-flex align-items-start"},l={class:"flex-grow-1"},c={class:"discussion-title"},o={class:"discussion-content"},r={class:"discussion-meta"},u={class:"meta-item"},d={class:"meta-item"},k={class:"meta-item"},b={class:"discussion-stats"},v={class:"stat-item"},g={class:"stat-item"};function p(e,s,i,p,L,h){const m=(0,n.g2)("b-col"),f=(0,n.g2)("b-badge"),y=(0,n.g2)("b-row"),C=(0,n.g2)("b-card");return(0,n.uX)(),(0,n.Wv)(C,{class:"discussion-card mb-3",onClick:p.goToDiscussion},{default:(0,n.k6)(()=>[(0,n.bF)(y,null,{default:(0,n.k6)(()=>[(0,n.bF)(m,{md:"9"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",t,[s[3]||(s[3]=(0,n.Lk)("div",{class:"user-avatar me-3"},[(0,n.Lk)("i",{class:"bi bi-person-circle"})],-1)),(0,n.Lk)("div",l,[(0,n.Lk)("h4",c,(0,a.v_)(i.discussion.title),1),(0,n.Lk)("p",o,(0,a.v_)(p.truncatedContent),1),(0,n.Lk)("div",r,[(0,n.Lk)("span",u,[s[0]||(s[0]=(0,n.Lk)("i",{class:"bi bi-person"},null,-1)),(0,n.eW)(" "+(0,a.v_)(i.discussion.authorName),1)]),(0,n.Lk)("span",d,[s[1]||(s[1]=(0,n.Lk)("i",{class:"bi bi-calendar"},null,-1)),(0,n.eW)(" "+(0,a.v_)(p.formatDate(i.discussion.createdAt)),1)]),(0,n.Lk)("span",k,[s[2]||(s[2]=(0,n.Lk)("i",{class:"bi bi-folder"},null,-1)),(0,n.eW)(" "+(0,a.v_)(p.getCategoryName(i.discussion.category)),1)])])])])]),_:1}),(0,n.bF)(m,{md:"3",class:"text-end"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",b,[(0,n.Lk)("div",v,[s[4]||(s[4]=(0,n.Lk)("i",{class:"bi bi-chat"},null,-1)),(0,n.Lk)("span",null,(0,a.v_)(i.discussion.replies||0),1),s[5]||(s[5]=(0,n.Lk)("small",null,"Réponses",-1))]),(0,n.Lk)("div",g,[s[6]||(s[6]=(0,n.Lk)("i",{class:"bi bi-eye"},null,-1)),(0,n.Lk)("span",null,(0,a.v_)(i.discussion.views||0),1),s[7]||(s[7]=(0,n.Lk)("small",null,"Vues",-1))]),i.discussion.reported?((0,n.uX)(),(0,n.Wv)(f,{key:0,variant:"danger",class:"mt-2"},{default:(0,n.k6)(()=>[...s[8]||(s[8]=[(0,n.Lk)("i",{class:"bi bi-exclamation-triangle"},null,-1),(0,n.eW)(" Signalé ",-1)])]),_:1})):(0,n.Q3)("",!0)])]),_:1})]),_:1})]),_:1},8,["onClick"])}var L=i(728);const h={name:"DiscussionCard",props:{discussion:{type:Object,required:!0}},setup(e){const s=(0,L.rd)(),i=(0,n.EW)(()=>{const s=150;return e.discussion.content.length>s?e.discussion.content.substring(0,s)+"...":e.discussion.content}),a=e=>{if(!e)return"";const s=e.toDate(),i=new Date,n=i-s,a=Math.floor(n/6e4),t=Math.floor(n/36e5),l=Math.floor(n/864e5);return a<1?"À l'instant":a<60?`Il y a ${a} min`:t<24?`Il y a ${t}h`:l<7?`Il y a ${l}j`:s.toLocaleDateString("fr-FR")},t=e=>{const s={general:"Général",tech:"Technologie",support:"Support",feedback:"Feedback",announcements:"Annonces",other:"Autres"};return s[e]||e},l=()=>{s.push({name:"Discussion",params:{id:e.discussion.id}})};return{truncatedContent:i,formatDate:a,getCategoryName:t,goToDiscussion:l}}};var m=i(241);const f=(0,m.A)(h,[["render",p],["__scopeId","data-v-5e1d5cbe"]]),y=f}}]);
//# sourceMappingURL=375.1fd81894.js.map