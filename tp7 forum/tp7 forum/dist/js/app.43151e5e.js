(()=>{"use strict";var e={51(e,n,o){o.d(n,{$_:()=>t,e8:()=>l,vE:()=>i});var r=o(829);o(833),o(307),o(726);const a={apiKey:"AIzaSyC3ZfSGpVMqLP89bARg8mmwNFdxb3GNJDE",authDomain:"forum-947e2.firebaseapp.com",projectId:"forum-947e2",storageBucket:"forum-947e2.firebasestorage.app",messagingSenderId:"855554557056",appId:"1:855554557056:web:b35cf86531069ba3c2d265",measurementId:"G-NQTN2E9CGZ"};r.A.initializeApp(a);const t=r.A.firestore(),l=r.A.auth(),i=(r.A.storage(),r.A.firestore.FieldValue.serverTimestamp)},408(e,n,o){var r=o(130),a=o(768);const t={id:"app"},l={class:"main-content"};function i(e,n,o,r,i,s){const u=(0,a.g2)("Navbar"),c=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",t,[(0,a.bF)(u),(0,a.Lk)("div",l,[(0,a.bF)(c)])])}var s=o(859),u=o(573);const c={name:"App",components:{Navbar:s.A},setup(){const{user:e}=(0,u.A)();return{user:e}}};var d=o(241);const p=(0,d.A)(c,[["render",i]]),b=p;var m=o(728),f=o(51);const v=(e,n,o)=>{let r=f.e8.currentUser;r?o():o({name:"Welcome"})},k=(e,n,o)=>{let r=f.e8.currentUser;r?o({name:"Home"}):o()},h=[{path:"/",name:"Welcome",component:()=>o.e(87).then(o.bind(o,87)),beforeEnter:k},{path:"/home",name:"Home",component:()=>o.e(375).then(o.bind(o,375)),beforeEnter:v},{path:"/profile",name:"Profile",component:()=>o.e(198).then(o.bind(o,198)),beforeEnter:v},{path:"/category/:id",name:"Category",component:()=>o.e(900).then(o.bind(o,900)),beforeEnter:v,props:!0},{path:"/discussion/:id",name:"Discussion",component:()=>o.e(32).then(o.bind(o,32)),beforeEnter:v,props:!0},{path:"/create-discussion",name:"CreateDiscussion",component:()=>o.e(364).then(o.bind(o,364)),beforeEnter:v},{path:"/moderation",name:"Moderation",component:()=>o.e(468).then(o.bind(o,468)),beforeEnter:v}],g=(0,m.aE)({history:(0,m.LA)("/"),routes:h}),y=g;var L=o(401);let C;f.e8.onAuthStateChanged(()=>{C||(C=(0,r.Ef)(b).use(y).use((0,L.nX)()).mount("#app"))})},573(e,n,o){o.d(n,{A:()=>i});var r=o(144),a=o(51);const t=(0,r.KR)(a.e8.currentUser);a.e8.onAuthStateChanged(e=>{console.log("User state change. Current user is:",e),t.value=e});const l=()=>({user:t}),i=l},859(e,n,o){o.d(n,{A:()=>_});var r=o(768),a=o(232),t=o(130);const l={class:"modern-navbar"},i={class:"navbar-container"},s={key:0,class:"navbar-menu"},u={key:1,class:"navbar-actions"},c={class:"user-avatar"},d={class:"user-name"},p={key:0,class:"dropdown-menu"},b={key:0,class:"mobile-menu"};function m(e,n,o,m,f,v){const k=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",l,[(0,r.Lk)("div",i,[(0,r.bF)(k,{to:"/home",class:"navbar-brand"},{default:(0,r.k6)(()=>[...n[4]||(n[4]=[(0,r.Lk)("div",{class:"brand-logo"},[(0,r.Lk)("i",{class:"bi bi-chat-dots-fill"})],-1),(0,r.Lk)("span",{class:"brand-name"},"Forum Hub",-1)])]),_:1}),m.user?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(k,{to:"/home",class:"nav-link"},{default:(0,r.k6)(()=>[...n[5]||(n[5]=[(0,r.Lk)("i",{class:"bi bi-house-door-fill"},null,-1),(0,r.Lk)("span",null,"Accueil",-1)])]),_:1}),(0,r.bF)(k,{to:"/create-discussion",class:"nav-link"},{default:(0,r.k6)(()=>[...n[6]||(n[6]=[(0,r.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1),(0,r.Lk)("span",null,"Nouvelle Discussion",-1)])]),_:1})])):(0,r.Q3)("",!0),m.user?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("div",{class:"user-dropdown",onClick:n[1]||(n[1]=(...e)=>m.toggleDropdown&&m.toggleDropdown(...e))},[(0,r.Lk)("div",c,(0,a.v_)(m.user.displayName?m.user.displayName.charAt(0).toUpperCase():"U"),1),(0,r.Lk)("span",d,(0,a.v_)(m.user.displayName),1),(0,r.Lk)("i",{class:(0,a.C4)(["bi bi-chevron-down dropdown-icon",{rotate:m.isDropdownOpen}])},null,2),(0,r.bF)(t.eB,{name:"dropdown-fade"},{default:(0,r.k6)(()=>[m.isDropdownOpen?((0,r.uX)(),(0,r.CE)("div",p,[(0,r.bF)(k,{to:"/profile",class:"dropdown-item",onClick:m.closeDropdown},{default:(0,r.k6)(()=>[...n[7]||(n[7]=[(0,r.Lk)("i",{class:"bi bi-person"},null,-1),(0,r.Lk)("span",null,"Mon Profil",-1)])]),_:1},8,["onClick"]),m.isModerator?((0,r.uX)(),(0,r.Wv)(k,{key:0,to:"/moderation",class:"dropdown-item",onClick:m.closeDropdown},{default:(0,r.k6)(()=>[...n[8]||(n[8]=[(0,r.Lk)("i",{class:"bi bi-shield-check"},null,-1),(0,r.Lk)("span",null,"Modération",-1)])]),_:1},8,["onClick"])):(0,r.Q3)("",!0),n[10]||(n[10]=(0,r.Lk)("div",{class:"dropdown-divider"},null,-1)),(0,r.Lk)("a",{href:"#",class:"dropdown-item logout",onClick:n[0]||(n[0]=(0,t.D$)((...e)=>m.handleLogout&&m.handleLogout(...e),["prevent"]))},[...n[9]||(n[9]=[(0,r.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1),(0,r.Lk)("span",null,"Déconnexion",-1)])])])):(0,r.Q3)("",!0)]),_:1})])])):(0,r.Q3)("",!0),m.user?((0,r.uX)(),(0,r.CE)("button",{key:2,class:"mobile-toggle",onClick:n[2]||(n[2]=(...e)=>m.toggleMobileMenu&&m.toggleMobileMenu(...e))},[(0,r.Lk)("i",{class:(0,a.C4)(["bi",m.isMobileMenuOpen?"bi-x":"bi-list"])},null,2)])):(0,r.Q3)("",!0)]),(0,r.bF)(t.eB,{name:"mobile-slide"},{default:(0,r.k6)(()=>[m.user&&m.isMobileMenuOpen?((0,r.uX)(),(0,r.CE)("div",b,[(0,r.bF)(k,{to:"/home",class:"mobile-link",onClick:m.closeMobileMenu},{default:(0,r.k6)(()=>[...n[11]||(n[11]=[(0,r.Lk)("i",{class:"bi bi-house-door-fill"},null,-1),(0,r.Lk)("span",null,"Accueil",-1)])]),_:1},8,["onClick"]),(0,r.bF)(k,{to:"/create-discussion",class:"mobile-link",onClick:m.closeMobileMenu},{default:(0,r.k6)(()=>[...n[12]||(n[12]=[(0,r.Lk)("i",{class:"bi bi-plus-circle-fill"},null,-1),(0,r.Lk)("span",null,"Nouvelle Discussion",-1)])]),_:1},8,["onClick"]),(0,r.bF)(k,{to:"/profile",class:"mobile-link",onClick:m.closeMobileMenu},{default:(0,r.k6)(()=>[...n[13]||(n[13]=[(0,r.Lk)("i",{class:"bi bi-person"},null,-1),(0,r.Lk)("span",null,"Mon Profil",-1)])]),_:1},8,["onClick"]),m.isModerator?((0,r.uX)(),(0,r.Wv)(k,{key:0,to:"/moderation",class:"mobile-link",onClick:m.closeMobileMenu},{default:(0,r.k6)(()=>[...n[14]||(n[14]=[(0,r.Lk)("i",{class:"bi bi-shield-check"},null,-1),(0,r.Lk)("span",null,"Modération",-1)])]),_:1},8,["onClick"])):(0,r.Q3)("",!0),n[16]||(n[16]=(0,r.Lk)("div",{class:"mobile-divider"},null,-1)),(0,r.Lk)("a",{href:"#",class:"mobile-link logout",onClick:n[3]||(n[3]=(0,t.D$)((...e)=>m.handleLogout&&m.handleLogout(...e),["prevent"]))},[...n[15]||(n[15]=[(0,r.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1),(0,r.Lk)("span",null,"Déconnexion",-1)])])])):(0,r.Q3)("",!0)]),_:1})])}var f=o(144),v=o(728),k=o(573),h=o(51);const g=(0,f.KR)(null),y=(0,f.KR)(!1),L=async()=>{g.value=null,y.value=!0;try{await h.e8.signOut(),y.value=!1}catch(e){console.error(e.message),g.value=e.message,y.value=!1}},C=()=>({error:g,logout:L,isPending:y}),w=C,M={name:"Navbar",setup(){const{user:e}=(0,k.A)(),{logout:n}=w(),o=(0,v.rd)(),a=(0,f.KR)(!1),t=(0,f.KR)(!1),l=(0,r.EW)(()=>e.value?.isModerator||!1),i=()=>{a.value=!a.value},s=()=>{a.value=!1},u=()=>{t.value=!t.value},c=()=>{t.value=!1},d=async()=>{await n(),s(),c(),o.push({name:"Welcome"})};return"undefined"!==typeof window&&document.addEventListener("click",e=>{e.target.closest(".user-dropdown")||(a.value=!1)}),{user:e,handleLogout:d,isModerator:l,isDropdownOpen:a,isMobileMenuOpen:t,toggleDropdown:i,closeDropdown:s,toggleMobileMenu:u,closeMobileMenu:c}}};var E=o(241);const A=(0,E.A)(M,[["render",m],["__scopeId","data-v-2cd8afe0"]]),_=A}},n={};function o(r){var a=n[r];if(void 0!==a)return a.exports;var t=n[r]={exports:{}};return e[r](t,t.exports,o),t.exports}o.m=e,(()=>{var e=[];o.O=(n,r,a,t)=>{if(!r){var l=1/0;for(c=0;c<e.length;c++){for(var[r,a,t]=e[c],i=!0,s=0;s<r.length;s++)(!1&t||l>=t)&&Object.keys(o.O).every(e=>o.O[e](r[s]))?r.splice(s--,1):(i=!1,t<l&&(l=t));if(i){e.splice(c--,1);var u=a();void 0!==u&&(n=u)}}return n}t=t||0;for(var c=e.length;c>0&&e[c-1][2]>t;c--)e[c]=e[c-1];e[c]=[r,a,t]}})(),(()=>{o.d=(e,n)=>{for(var r in n)o.o(n,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}})(),(()=>{o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((n,r)=>(o.f[r](e,n),n),[]))})(),(()=>{o.u=e=>"js/"+e+"."+{32:"238bd44e",87:"fdf93b2f",198:"96634c56",364:"80643efe",375:"1fd81894",468:"ea960ee3",900:"8a85a7da"}[e]+".js"})(),(()=>{o.miniCssF=e=>"css/"+e+"."+{32:"1e76dc21",87:"4826703d",198:"801a60e2",364:"6608fc52",375:"9e80b87a",468:"cae84c09",900:"98944412"}[e]+".css"})(),(()=>{o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{var e={},n="forum-communautaire:";o.l=(r,a,t,l)=>{if(e[r])e[r].push(a);else{var i,s;if(void 0!==t)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==n+t){i=d;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",n+t),i.src=r),e[r]=[a];var p=(n,o)=>{i.onerror=i.onload=null,clearTimeout(b);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach(e=>e(o)),n)return n(o)},b=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),(()=>{o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{o.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,n,r,a,t)=>{var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",o.nc&&(l.nonce=o.nc);var i=o=>{if(l.onerror=l.onload=null,"load"===o.type)a();else{var r=o&&o.type,i=o&&o.target&&o.target.href||n,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+i+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=r,s.request=i,l.parentNode&&l.parentNode.removeChild(l),t(s)}};return l.onerror=l.onload=i,l.href=n,r?r.parentNode.insertBefore(l,r.nextSibling):document.head.appendChild(l),l},n=(e,n)=>{for(var o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var a=o[r],t=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(t===e||t===n))return a}var l=document.getElementsByTagName("style");for(r=0;r<l.length;r++){a=l[r],t=a.getAttribute("data-href");if(t===e||t===n)return a}},r=r=>new Promise((a,t)=>{var l=o.miniCssF(r),i=o.p+l;if(n(l,i))return a();e(r,i,null,a,t)}),a={524:0};o.f.miniCss=(e,n)=>{var o={32:1,87:1,198:1,364:1,375:1,468:1,900:1};a[e]?n.push(a[e]):0!==a[e]&&o[e]&&n.push(a[e]=r(e).then(()=>{a[e]=0},n=>{throw delete a[e],n}))}}})(),(()=>{var e={524:0};o.f.j=(n,r)=>{var a=o.o(e,n)?e[n]:void 0;if(0!==a)if(a)r.push(a[2]);else{var t=new Promise((o,r)=>a=e[n]=[o,r]);r.push(a[2]=t);var l=o.p+o.u(n),i=new Error,s=r=>{if(o.o(e,n)&&(a=e[n],0!==a&&(e[n]=void 0),a)){var t=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;i.message="Loading chunk "+n+" failed.\n("+t+": "+l+")",i.name="ChunkLoadError",i.type=t,i.request=l,a[1](i)}};o.l(l,s,"chunk-"+n,n)}},o.O.j=n=>0===e[n];var n=(n,r)=>{var a,t,[l,i,s]=r,u=0;if(l.some(n=>0!==e[n])){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(s)var c=s(o)}for(n&&n(r);u<l.length;u++)t=l[u],o.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return o.O(c)},r=self["webpackChunkforum_communautaire"]=self["webpackChunkforum_communautaire"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var r=o.O(void 0,[504],()=>o(408));r=o.O(r)})();
//# sourceMappingURL=app.43151e5e.js.map