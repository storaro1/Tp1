{"version":3,"file":"js/32.238bd44e.js","mappings":"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","sources":["webpack://forum-communautaire/./src/views/DiscussionView.vue","webpack://forum-communautaire/./src/composables/getDocument.js","webpack://forum-communautaire/./src/components/ReplyCard.vue","webpack://forum-communautaire/./src/components/ReplyCard.vue?03b2","webpack://forum-communautaire/./src/views/DiscussionView.vue?fee5","webpack://forum-communautaire/./src/composables/getCollection.js","webpack://forum-communautaire/./src/composables/useDiscussions.js","webpack://forum-communautaire/./src/composables/useReplies.js","webpack://forum-communautaire/./src/composables/useModeration.js"],"sourcesContent":["<template>\n  <div class=\"discussion-view\">\n    <Navbar />\n    \n    <div class=\"discussion-container\">\n      <div v-if=\"isPending\" class=\"loading-state\">\n        <div class=\"spinner\"></div>\n        <p>Chargement de la discussion...</p>\n      </div>\n\n      <div v-else-if=\"error\" class=\"error-message\">\n        <i class=\"bi bi-exclamation-triangle-fill\"></i>\n        <span>{{ error }}</span>\n      </div>\n\n      <div v-else-if=\"document\" class=\"discussion-content-wrapper\">\n        <!-- Back Button -->\n        <router-link to=\"/home\" class=\"back-link\">\n          <i class=\"bi bi-arrow-left\"></i>\n          Retour aux discussions\n        </router-link>\n\n        <!-- Discussion Card -->\n        <div class=\"discussion-card\">\n          <div class=\"discussion-header\">\n            <div class=\"discussion-header-content\">\n              <div class=\"category-badge\" :style=\"{ background: getCategoryColor(document.category) }\">\n                <i :class=\"getCategoryIcon(document.category)\"></i>\n                {{ getCategoryName(document.category) }}\n              </div>\n              <h1 class=\"discussion-title\">{{ document.title }}</h1>\n              \n              <div class=\"discussion-meta\">\n                <div class=\"meta-item\">\n                  <div class=\"author-avatar\">\n                    {{ document.authorName ? document.authorName.charAt(0).toUpperCase() : 'A' }}\n                  </div>\n                  <span class=\"author-name\">{{ document.authorName }}</span>\n                </div>\n                <div class=\"meta-separator\">•</div>\n                <div class=\"meta-item\">\n                  <i class=\"bi bi-clock\"></i>\n                  {{ formatDate(document.createdAt) }}\n                </div>\n                <div class=\"meta-separator\">•</div>\n                <div class=\"meta-item\">\n                  <i class=\"bi bi-eye\"></i>\n                  {{ document.views || 0 }} vues\n                </div>\n                <div class=\"meta-separator\">•</div>\n                <div class=\"meta-item\">\n                  <i class=\"bi bi-chat-dots\"></i>\n                  {{ replies ? replies.length : 0 }} réponses\n                </div>\n              </div>\n            </div>\n\n            <div v-if=\"user && user.uid === document.authorId\" class=\"discussion-actions\">\n              <button class=\"action-btn edit-btn\" @click=\"showEditModal = true\">\n                <i class=\"bi bi-pencil\"></i>\n              </button>\n              <button class=\"action-btn delete-btn\" @click=\"confirmDelete\">\n                <i class=\"bi bi-trash\"></i>\n              </button>\n            </div>\n          </div>\n\n          <div class=\"discussion-body\">\n            <p>{{ document.content }}</p>\n          </div>\n\n          <div class=\"discussion-footer\">\n            <button \n              class=\"report-btn\"\n              @click=\"reportDiscussion\"\n              v-if=\"user && user.uid !== document.authorId\"\n            >\n              <i class=\"bi bi-flag\"></i>\n              Signaler\n            </button>\n          </div>\n        </div>\n\n        <!-- Replies Section -->\n        <div class=\"replies-section\">\n          <div class=\"replies-header\">\n            <h2>\n              <i class=\"bi bi-chat-left-dots-fill\"></i>\n              Réponses\n              <span class=\"reply-count\">{{ replies ? replies.length : 0 }}</span>\n            </h2>\n          </div>\n\n          <!-- Add Reply Form -->\n          <div class=\"reply-form-card\">\n            <form @submit.prevent=\"handleReply\" class=\"reply-form\">\n              <div class=\"form-header\">\n                <div class=\"user-avatar-small\">\n                  {{ user?.displayName ? user.displayName.charAt(0).toUpperCase() : 'U' }}\n                </div>\n                <span class=\"form-label\">Écrire une réponse</span>\n              </div>\n              <textarea\n                v-model=\"replyContent\"\n                class=\"reply-textarea\"\n                placeholder=\"Partagez votre point de vue, posez une question ou aidez les autres...\"\n                rows=\"4\"\n                required\n              ></textarea>\n              <div class=\"form-footer\">\n                <div class=\"char-count\">{{ replyContent.length }} caractères</div>\n                <button \n                  type=\"submit\" \n                  class=\"submit-btn\"\n                  :disabled=\"replyPending || !replyContent.trim()\"\n                >\n                  <span v-if=\"!replyPending\">\n                    <i class=\"bi bi-send-fill\"></i>\n                    Publier\n                  </span>\n                  <span v-else>\n                    <div class=\"spinner-small\"></div>\n                    Envoi...\n                  </span>\n                </button>\n              </div>\n            </form>\n          </div>\n\n          <!-- Replies List -->\n          <div v-if=\"replies && replies.length\" class=\"replies-list\">\n            <ReplyCard\n              v-for=\"reply in replies\"\n              :key=\"reply.id\"\n              :reply=\"reply\"\n              :currentUser=\"user\"\n              @delete=\"handleDeleteReply\"\n              @edit=\"handleEditReply\"\n              @report=\"handleReportReply\"\n            />\n          </div>\n          <div v-else class=\"empty-state\">\n            <i class=\"bi bi-chat-text\"></i>\n            <h3>Aucune réponse pour le moment</h3>\n            <p>Soyez le premier à partager votre avis!</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Edit Modal -->\n    <transition name=\"modal-fade\">\n      <div v-if=\"showEditModal\" class=\"modal-overlay\" @click=\"showEditModal = false\">\n        <div class=\"modal-card\" @click.stop>\n          <div class=\"modal-header\">\n            <h3>Modifier la discussion</h3>\n            <button class=\"modal-close\" @click=\"showEditModal = false\">\n              <i class=\"bi bi-x-lg\"></i>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label>Titre</label>\n              <input v-model=\"editTitle\" type=\"text\" class=\"modern-input\" />\n            </div>\n            <div class=\"form-group\">\n              <label>Contenu</label>\n              <textarea v-model=\"editContent\" rows=\"6\" class=\"modern-textarea\"></textarea>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn-secondary\" @click=\"showEditModal = false\">Annuler</button>\n            <button class=\"btn-primary\" @click=\"handleEdit\">Enregistrer</button>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <!-- Edit Reply Modal -->\n    <transition name=\"modal-fade\">\n      <div v-if=\"showEditReplyModal\" class=\"modal-overlay\" @click=\"showEditReplyModal = false\">\n        <div class=\"modal-card\" @click.stop>\n          <div class=\"modal-header\">\n            <h3>Modifier la réponse</h3>\n            <button class=\"modal-close\" @click=\"showEditReplyModal = false\">\n              <i class=\"bi bi-x-lg\"></i>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label>Contenu</label>\n              <textarea v-model=\"editReplyContent\" rows=\"6\" class=\"modern-textarea\"></textarea>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn-secondary\" @click=\"showEditReplyModal = false\">Annuler</button>\n            <button class=\"btn-primary\" @click=\"saveEditReply\">Enregistrer</button>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport Navbar from '../components/Navbar.vue'\nimport getDocument from '../composables/getDocument'\nimport getCollection from '../composables/getCollection'\nimport getUser from '../composables/getUser'\nimport useDiscussions from '../composables/useDiscussions'\nimport useReplies from '../composables/useReplies'\nimport useModeration from '../composables/useModeration'\nimport ReplyCard from '../components/ReplyCard.vue'\n\nexport default {\n  name: 'DiscussionView',\n  components: { Navbar, ReplyCard },\n  props: ['id'],\n  setup(props) {\n    const { user } = getUser()\n    const { document, error, isPending } = getDocument('discussions', props.id)\n    const { documents: allReplies } = getCollection('replies', ['discussionId', '==', props.id])\n    const { updateDiscussion, deleteDiscussion, incrementViews } = useDiscussions()\n    const { createReply, deleteReply: deleteReplyAction, updateReply } = useReplies()\n    const { reportContent } = useModeration()\n    const router = useRouter()\n    \n    // Sort replies by creation date (oldest first)\n    const replies = computed(() => {\n      if (!allReplies.value) return []\n      return [...allReplies.value].sort((a, b) => {\n        if (!a.createdAt || !b.createdAt) return 0\n        return a.createdAt.seconds - b.createdAt.seconds\n      })\n    })\n\n    const replyContent = ref('')\n    const replyPending = ref(false)\n    const showEditModal = ref(false)\n    const editTitle = ref('')\n    const editContent = ref('')\n    \n    // Reply editing\n    const showEditReplyModal = ref(false)\n    const editingReply = ref(null)\n    const editReplyContent = ref('')\n\n    // Increment view count\n    incrementViews(props.id)\n\n    watch(document, (newDoc) => {\n      if (newDoc) {\n        editTitle.value = newDoc.title\n        editContent.value = newDoc.content\n      }\n    })\n\n    const formatDate = (timestamp) => {\n      if (!timestamp) return ''\n      return timestamp.toDate().toLocaleDateString('fr-FR', {\n        day: 'numeric',\n        month: 'short',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    }\n\n    const getCategoryName = (categoryId) => {\n      const categories = {\n        general: 'Général',\n        tech: 'Technologie',\n        support: 'Support',\n        feedback: 'Feedback',\n        announcements: 'Annonces',\n        other: 'Autres'\n      }\n      return categories[categoryId] || categoryId\n    }\n\n    const getCategoryColor = (categoryId) => {\n      const colors = {\n        general: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        tech: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n        support: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n        feedback: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',\n        announcements: 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n        other: 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)'\n      }\n      return colors[categoryId] || colors.other\n    }\n\n    const getCategoryIcon = (categoryId) => {\n      const icons = {\n        general: 'bi-chat-dots-fill',\n        tech: 'bi-laptop',\n        support: 'bi-question-circle-fill',\n        feedback: 'bi-star-fill',\n        announcements: 'bi-megaphone-fill',\n        other: 'bi-three-dots'\n      }\n      return icons[categoryId] || icons.other\n    }\n\n    const handleReply = async () => {\n      if (!replyContent.value.trim()) return\n      \n      replyPending.value = true\n      \n      const reply = {\n        content: replyContent.value,\n        discussionId: props.id,\n        authorId: user.value.uid,\n        authorName: user.value.displayName || 'Anonyme'\n      }\n\n      await createReply(reply)\n      \n      if (!error.value) {\n        replyContent.value = ''\n      }\n      replyPending.value = false\n    }\n\n    const handleEdit = async () => {\n      await updateDiscussion(props.id, {\n        title: editTitle.value,\n        content: editContent.value\n      })\n      showEditModal.value = false\n    }\n\n    const confirmDelete = () => {\n      if (confirm('Êtes-vous sûr de vouloir supprimer cette discussion?')) {\n        deleteDiscussion(props.id)\n        router.push('/home')\n      }\n    }\n\n    const reportDiscussion = async () => {\n      if (confirm('Signaler cette discussion comme inappropriée?')) {\n        await reportContent('discussions', props.id)\n        alert('Discussion signalée. Les modérateurs examineront votre signalement.')\n      }\n    }\n\n    const handleDeleteReply = async (replyId) => {\n      if (confirm('Supprimer cette réponse?')) {\n        await deleteReplyAction(replyId, props.id)\n      }\n    }\n\n    const handleEditReply = (reply) => {\n      editingReply.value = reply\n      editReplyContent.value = reply.content\n      showEditReplyModal.value = true\n    }\n    \n    const saveEditReply = async () => {\n      if (!editReplyContent.value.trim()) return\n      \n      await updateReply(editingReply.value.id, {\n        content: editReplyContent.value\n      })\n      \n      showEditReplyModal.value = false\n      editingReply.value = null\n      editReplyContent.value = ''\n    }\n\n    const handleReportReply = async (replyId) => {\n      if (confirm('Signaler cette réponse comme inappropriée?')) {\n        await reportContent('replies', replyId)\n        alert('Réponse signalée.')\n      }\n    }\n\n    return {\n      user,\n      document,\n      error,\n      isPending,\n      replies,\n      replyContent,\n      replyPending,\n      showEditModal,\n      editTitle,\n      editContent,\n      showEditReplyModal,\n      editingReply,\n      editReplyContent,\n      formatDate,\n      getCategoryName,\n      getCategoryColor,\n      getCategoryIcon,\n      handleReply,\n      handleEdit,\n      confirmDelete,\n      reportDiscussion,\n      handleDeleteReply,\n      handleEditReply,\n      saveEditReply,\n      handleReportReply\n    }\n  }\n}\n</script>\n\n<style scoped>\n.discussion-view {\n  min-height: 100vh;\n  background: #f9fafb;\n}\n\n.discussion-container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 100px 24px 60px;\n}\n\n.back-link {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  color: #6b7280;\n  font-size: 14px;\n  font-weight: 500;\n  text-decoration: none;\n  margin-bottom: 24px;\n  transition: all 0.2s ease;\n}\n\n.back-link:hover {\n  color: #6366f1;\n  transform: translateX(-4px);\n}\n\n.discussion-content-wrapper {\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Discussion Card */\n.discussion-card {\n  background: white;\n  border-radius: 20px;\n  padding: 40px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\n  margin-bottom: 32px;\n  border: 1px solid #e5e7eb;\n}\n\n.discussion-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 24px;\n  padding-bottom: 24px;\n  border-bottom: 2px solid #f3f4f6;\n}\n\n.discussion-header-content {\n  flex: 1;\n}\n\n.category-badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 16px;\n  border-radius: 10px;\n  color: white;\n  font-size: 13px;\n  font-weight: 600;\n  margin-bottom: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n.discussion-title {\n  font-size: 32px;\n  font-weight: 800;\n  color: #1a1a1a;\n  margin-bottom: 20px;\n  line-height: 1.3;\n  letter-spacing: -0.5px;\n}\n\n.discussion-meta {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #6b7280;\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.meta-item i {\n  color: #9ca3af;\n  font-size: 16px;\n}\n\n.meta-separator {\n  color: #d1d5db;\n}\n\n.author-avatar {\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 13px;\n}\n\n.author-name {\n  font-weight: 600;\n  color: #1a1a1a;\n}\n\n.discussion-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.action-btn {\n  width: 40px;\n  height: 40px;\n  border-radius: 10px;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n}\n\n.edit-btn {\n  background: #f3f4f6;\n  color: #6366f1;\n}\n\n.edit-btn:hover {\n  background: #eef2ff;\n}\n\n.delete-btn {\n  background: #fef2f2;\n  color: #dc2626;\n}\n\n.delete-btn:hover {\n  background: #fee2e2;\n}\n\n.discussion-body {\n  padding: 24px 0;\n  line-height: 1.8;\n}\n\n.discussion-body p {\n  font-size: 16px;\n  color: #374151;\n  white-space: pre-wrap;\n  margin: 0;\n}\n\n.discussion-footer {\n  padding-top: 20px;\n  border-top: 1px solid #f3f4f6;\n}\n\n.report-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 16px;\n  background: #fef2f2;\n  color: #dc2626;\n  border: none;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.report-btn:hover {\n  background: #fee2e2;\n}\n\n/* Replies Section */\n.replies-section {\n  margin-bottom: 48px;\n}\n\n.replies-header {\n  margin-bottom: 24px;\n}\n\n.replies-header h2 {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 24px;\n  font-weight: 700;\n  color: #1a1a1a;\n}\n\n.replies-header i {\n  color: #6366f1;\n}\n\n.reply-count {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 32px;\n  height: 32px;\n  padding: 0 10px;\n  background: #eef2ff;\n  color: #6366f1;\n  font-size: 14px;\n  border-radius: 8px;\n  font-weight: 600;\n}\n\n.reply-form-card {\n  background: white;\n  border-radius: 16px;\n  padding: 24px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\n  margin-bottom: 24px;\n  border: 2px solid #e5e7eb;\n  transition: all 0.2s ease;\n}\n\n.reply-form-card:focus-within {\n  border-color: #6366f1;\n  box-shadow: 0 4px 20px rgba(99, 102, 241, 0.15);\n}\n\n.form-header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 16px;\n}\n\n.user-avatar-small {\n  width: 36px;\n  height: 36px;\n  border-radius: 10px;\n  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 14px;\n}\n\n.form-label {\n  font-size: 15px;\n  font-weight: 600;\n  color: #1a1a1a;\n}\n\n.reply-textarea {\n  width: 100%;\n  padding: 16px;\n  font-size: 15px;\n  color: #1a1a1a;\n  background: #f9fafb;\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  transition: all 0.2s ease;\n  font-family: inherit;\n  resize: vertical;\n  line-height: 1.6;\n  margin-bottom: 12px;\n}\n\n.reply-textarea:focus {\n  outline: none;\n  border-color: #6366f1;\n  background: white;\n  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\n}\n\n.form-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.char-count {\n  font-size: 12px;\n  color: #9ca3af;\n}\n\n.submit-btn {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  padding: 12px 24px;\n  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);\n}\n\n.submit-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);\n}\n\n.submit-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none;\n}\n\n.spinner-small {\n  width: 16px;\n  height: 16px;\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  border-top-color: white;\n  border-radius: 50%;\n  animation: spin 0.6s linear infinite;\n}\n\n.replies-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n/* Modal */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  padding: 20px;\n}\n\n.modal-card {\n  background: white;\n  border-radius: 20px;\n  max-width: 600px;\n  width: 100%;\n  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n  animation: modalSlideIn 0.3s ease;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px 28px;\n  border-bottom: 2px solid #f3f4f6;\n}\n\n.modal-header h3 {\n  font-size: 20px;\n  font-weight: 700;\n  color: #1a1a1a;\n  margin: 0;\n}\n\n.modal-close {\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  border: none;\n  background: #f3f4f6;\n  color: #6b7280;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.modal-close:hover {\n  background: #e5e7eb;\n  color: #1a1a1a;\n}\n\n.modal-body {\n  padding: 28px;\n}\n\n.modal-footer {\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  padding: 20px 28px;\n  border-top: 2px solid #f3f4f6;\n}\n\n.modal-fade-enter-active, .modal-fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.modal-fade-enter-from, .modal-fade-leave-to {\n  opacity: 0;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .discussion-container {\n    padding: 80px 16px 40px;\n  }\n\n  .discussion-card {\n    padding: 24px;\n  }\n\n  .discussion-title {\n    font-size: 24px;\n  }\n\n  .discussion-meta {\n    font-size: 12px;\n  }\n\n  .form-footer {\n    flex-direction: column;\n    align-items: flex-end;\n    gap: 12px;\n  }\n}\n</style>\n","import { ref, watchEffect } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst getDocument = (collection, id) => {\n  const document = ref(null)\n  const error = ref(null)\n  const isPending = ref(false)\n\n  // register the firestore document reference\n  let documentRef = projectFirestore.collection(collection).doc(id)\n\n  const unsub = documentRef.onSnapshot(doc => {\n    if (doc.data()) {\n      document.value = {...doc.data(), id: doc.id}\n      error.value = null\n      isPending.value = false\n    } else {\n      error.value = 'That document does not exist'\n      isPending.value = false\n    }\n  }, err => {\n    console.log(err.message)\n    error.value = 'Could not fetch the document'\n    isPending.value = false\n  })\n\n  watchEffect((onInvalidate) => {\n    onInvalidate(() => unsub())\n  })\n\n  return { error, document, isPending }\n}\n\nexport default getDocument\n","<template>\n  <div class=\"reply-card\">\n    <div class=\"reply-header\">\n      <div class=\"reply-author\">\n        <div class=\"author-avatar\">\n          {{ reply.authorName ? reply.authorName.charAt(0).toUpperCase() : 'A' }}\n        </div>\n        <div class=\"author-info\">\n          <span class=\"author-name\">{{ reply.authorName }}</span>\n          <span class=\"reply-date\">{{ formatDate(reply.createdAt) }}</span>\n        </div>\n      </div>\n      \n      <div class=\"reply-actions\">\n        <div v-if=\"currentUser && currentUser.uid === reply.authorId\">\n          <button class=\"action-btn edit\" @click=\"$emit('edit', reply)\" title=\"Modifier\">\n            <i class=\"bi bi-pencil\"></i>\n          </button>\n          <button class=\"action-btn delete\" @click=\"$emit('delete', reply.id)\" title=\"Supprimer\">\n            <i class=\"bi bi-trash\"></i>\n          </button>\n        </div>\n        <div v-else-if=\"currentUser\">\n          <button class=\"action-btn report\" @click=\"$emit('report', reply.id)\" title=\"Signaler\">\n            <i class=\"bi bi-flag\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"reply-content\">\n      {{ reply.content }}\n    </div>\n\n    <div v-if=\"reply.reported\" class=\"reply-reported\">\n      <i class=\"bi bi-exclamation-triangle-fill\"></i>\n      Signalé\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ReplyCard',\n  props: {\n    reply: {\n      type: Object,\n      required: true\n    },\n    currentUser: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['delete', 'edit', 'report'],\n  setup() {\n    const formatDate = (timestamp) => {\n      if (!timestamp) return ''\n      const date = timestamp.toDate()\n      const now = new Date()\n      const diff = now - date\n      const minutes = Math.floor(diff / 60000)\n      const hours = Math.floor(diff / 3600000)\n      const days = Math.floor(diff / 86400000)\n\n      if (minutes < 1) return 'À l\\'instant'\n      if (minutes < 60) return `Il y a ${minutes} min`\n      if (hours < 24) return `Il y a ${hours}h`\n      if (days < 7) return `Il y a ${days}j`\n      \n      return date.toLocaleDateString('fr-FR', {\n        day: 'numeric',\n        month: 'short',\n        year: 'numeric'\n      })\n    }\n\n    return { formatDate }\n  }\n}\n</script>\n\n<style scoped>\n.reply-card {\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  border: 1px solid #e5e7eb;\n  transition: all 0.2s ease;\n}\n\n.reply-card:hover {\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  border-color: #d1d5db;\n}\n\n.reply-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.reply-author {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.author-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 10px;\n  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 14px;\n  flex-shrink: 0;\n}\n\n.author-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.author-name {\n  font-size: 14px;\n  font-weight: 600;\n  color: #1a1a1a;\n}\n\n.reply-date {\n  font-size: 12px;\n  color: #9ca3af;\n}\n\n.reply-actions {\n  display: flex;\n  gap: 6px;\n}\n\n.action-btn {\n  width: 32px;\n  height: 32px;\n  border-radius: 8px;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  background: transparent;\n}\n\n.action-btn.edit {\n  color: #6366f1;\n}\n\n.action-btn.edit:hover {\n  background: #eef2ff;\n}\n\n.action-btn.delete {\n  color: #dc2626;\n}\n\n.action-btn.delete:hover {\n  background: #fef2f2;\n}\n\n.action-btn.report {\n  color: #f59e0b;\n}\n\n.action-btn.report:hover {\n  background: #fffbeb;\n}\n\n.reply-content {\n  font-size: 15px;\n  line-height: 1.6;\n  color: #374151;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n\n.reply-reported {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  margin-top: 12px;\n  padding: 6px 12px;\n  background: #fef2f2;\n  color: #dc2626;\n  border-radius: 8px;\n  font-size: 12px;\n  font-weight: 600;\n}\n\n.reply-reported i {\n  font-size: 14px;\n}\n\n@media (max-width: 768px) {\n  .reply-card {\n    padding: 16px;\n  }\n\n  .author-name {\n    font-size: 13px;\n  }\n\n  .reply-content {\n    font-size: 14px;\n  }\n}\n</style>\n","import { render } from \"./ReplyCard.vue?vue&type=template&id=06e690b2&scoped=true\"\nimport script from \"./ReplyCard.vue?vue&type=script&lang=js\"\nexport * from \"./ReplyCard.vue?vue&type=script&lang=js\"\n\nimport \"./ReplyCard.vue?vue&type=style&index=0&id=06e690b2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-06e690b2\"]])\n\nexport default __exports__","import { render } from \"./DiscussionView.vue?vue&type=template&id=4bbd83d0&scoped=true\"\nimport script from \"./DiscussionView.vue?vue&type=script&lang=js\"\nexport * from \"./DiscussionView.vue?vue&type=script&lang=js\"\n\nimport \"./DiscussionView.vue?vue&type=style&index=0&id=4bbd83d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4bbd83d0\"]])\n\nexport default __exports__","import { ref, watchEffect } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst getCollection = (collection, query) => {\n  const documents = ref(null)\n  const error = ref(null)\n  const isPending = ref(false)\n\n  // register the firestore collection reference\n  let collectionRef = projectFirestore.collection(collection)\n  \n  if (query) {\n    collectionRef = collectionRef.where(...query)\n  }\n\n  const unsub = collectionRef.onSnapshot(snap => {\n    let results = []\n    snap.docs.forEach(doc => {\n      // must wait for the server to create the timestamp & send it back\n      doc.data().createdAt && results.push({...doc.data(), id: doc.id})\n    })\n    \n    // update values\n    documents.value = results\n    error.value = null\n    isPending.value = false\n  }, err => {\n    console.log(err.message)\n    documents.value = null\n    error.value = 'could not fetch the data'\n    isPending.value = false\n  })\n\n  watchEffect((onInvalidate) => {\n    onInvalidate(() => unsub())\n  })\n\n  return { error, documents, isPending }\n}\n\nexport default getCollection\n","import { ref } from 'vue'\nimport { projectFirestore, timestamp } from '../firebase/config'\n\nconst useDiscussions = () => {\n  const error = ref(null)\n  const isPending = ref(false)\n\n  // Create a new discussion\n  const createDiscussion = async (discussion) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      const res = await projectFirestore.collection('discussions').add({\n        ...discussion,\n        createdAt: timestamp(),\n        replies: 0,\n        views: 0,\n        reported: false,\n        reportCount: 0\n      })\n      isPending.value = false\n      return res\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not create discussion'\n      isPending.value = false\n    }\n  }\n\n  // Update a discussion\n  const updateDiscussion = async (id, updates) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection('discussions').doc(id).update({\n        ...updates,\n        updatedAt: timestamp()\n      })\n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not update discussion'\n      isPending.value = false\n    }\n  }\n\n  // Delete a discussion\n  const deleteDiscussion = async (id) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection('discussions').doc(id).delete()\n      // Also delete all replies\n      const repliesSnapshot = await projectFirestore\n        .collection('replies')\n        .where('discussionId', '==', id)\n        .get()\n      \n      const batch = projectFirestore.batch()\n      repliesSnapshot.docs.forEach(doc => {\n        batch.delete(doc.ref)\n      })\n      await batch.commit()\n      \n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not delete discussion'\n      isPending.value = false\n    }\n  }\n\n  // Increment view count\n  const incrementViews = async (id) => {\n    try {\n      await projectFirestore.collection('discussions').doc(id).update({\n        views: projectFirestore.FieldValue.increment(1)\n      })\n    } catch (err) {\n      console.error('Could not increment views:', err.message)\n    }\n  }\n\n  return { \n    error, \n    isPending, \n    createDiscussion, \n    updateDiscussion, \n    deleteDiscussion,\n    incrementViews\n  }\n}\n\nexport default useDiscussions\n","import { ref } from 'vue'\nimport { projectFirestore, timestamp } from '../firebase/config'\n\nconst useReplies = () => {\n  const error = ref(null)\n  const isPending = ref(false)\n\n  // Create a reply\n  const createReply = async (reply) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      const res = await projectFirestore.collection('replies').add({\n        ...reply,\n        createdAt: timestamp(),\n        reported: false,\n        reportCount: 0\n      })\n      \n      // Increment reply count on discussion\n      await projectFirestore\n        .collection('discussions')\n        .doc(reply.discussionId)\n        .update({\n          replies: projectFirestore.FieldValue.increment(1),\n          lastReplyAt: timestamp()\n        })\n      \n      isPending.value = false\n      return res\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not create reply'\n      isPending.value = false\n    }\n  }\n\n  // Update a reply\n  const updateReply = async (id, updates) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection('replies').doc(id).update({\n        ...updates,\n        updatedAt: timestamp()\n      })\n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not update reply'\n      isPending.value = false\n    }\n  }\n\n  // Delete a reply\n  const deleteReply = async (id, discussionId) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection('replies').doc(id).delete()\n      \n      // Decrement reply count on discussion\n      await projectFirestore\n        .collection('discussions')\n        .doc(discussionId)\n        .update({\n          replies: projectFirestore.FieldValue.increment(-1)\n        })\n      \n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not delete reply'\n      isPending.value = false\n    }\n  }\n\n  return { \n    error, \n    isPending, \n    createReply, \n    updateReply, \n    deleteReply \n  }\n}\n\nexport default useReplies\n","import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst useModeration = () => {\n  const error = ref(null)\n  const isPending = ref(false)\n\n  // Report a discussion or reply\n  const reportContent = async (collection, id) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection(collection).doc(id).update({\n        reported: true,\n        reportCount: projectFirestore.FieldValue.increment(1)\n      })\n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not report content'\n      isPending.value = false\n    }\n  }\n\n  // Unreport content (moderator action)\n  const unreportContent = async (collection, id) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection(collection).doc(id).update({\n        reported: false,\n        reportCount: 0\n      })\n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not unreport content'\n      isPending.value = false\n    }\n  }\n\n  // Delete content (moderator action)\n  const deleteContent = async (collection, id) => {\n    error.value = null\n    isPending.value = true\n    \n    try {\n      await projectFirestore.collection(collection).doc(id).delete()\n      isPending.value = false\n    } catch (err) {\n      console.error(err.message)\n      error.value = 'Could not delete content'\n      isPending.value = false\n    }\n  }\n\n  return { \n    error, \n    isPending, \n    reportContent, \n    unreportContent,\n    deleteContent\n  }\n}\n\nexport default useModeration\n"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Navbar","_createElementVNode","_hoisted_2","$setup","isPending","_hoisted_3","_cache","error","_hoisted_4","_toDisplayString","document","_hoisted_5","_component_router_link","to","_hoisted_6","_hoisted_7","_hoisted_8","style","_normalizeStyle","background","getCategoryColor","category","_normalizeClass","getCategoryIcon","getCategoryName","_hoisted_9","title","_hoisted_10","_hoisted_11","_hoisted_12","authorName","charAt","toUpperCase","_hoisted_13","_hoisted_14","formatDate","createdAt","_hoisted_15","views","_hoisted_16","replies","length","user","uid","authorId","_hoisted_17","onClick","$event","showEditModal","args","confirmDelete","_hoisted_18","content","_hoisted_19","reportDiscussion","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","onSubmit","_withModifiers","handleReply","_hoisted_24","_hoisted_25","displayName","replyContent","placeholder","rows","required","_hoisted_26","_hoisted_27","type","disabled","replyPending","trim","_hoisted_30","_hoisted_29","_hoisted_31","_Fragment","_renderList","reply","_createBlock","_component_ReplyCard","key","id","currentUser","onDelete","handleDeleteReply","onEdit","handleEditReply","onReport","handleReportReply","_hoisted_32","_Transition","name","_hoisted_33","_hoisted_34","_hoisted_35","editTitle","_hoisted_36","editContent","_hoisted_37","handleEdit","showEditReplyModal","_hoisted_38","_hoisted_39","_hoisted_40","editReplyContent","_hoisted_41","saveEditReply","getDocument","collection","ref","documentRef","projectFirestore","doc","unsub","onSnapshot","data","value","err","console","log","message","watchEffect","onInvalidate","$props","_ctx","$emit","reported","props","Object","default","emits","setup","timestamp","date","toDate","now","Date","diff","minutes","Math","floor","hours","days","toLocaleDateString","day","month","year","__exports__","components","Navbar","ReplyCard","getUser","documents","allReplies","getCollection","updateDiscussion","deleteDiscussion","incrementViews","useDiscussions","createReply","deleteReply","deleteReplyAction","updateReply","useReplies","reportContent","useModeration","router","useRouter","computed","sort","a","b","seconds","editingReply","watch","newDoc","hour","minute","categoryId","categories","general","tech","support","feedback","announcements","other","colors","icons","async","discussionId","confirm","push","alert","replyId","render","query","collectionRef","where","snap","results","docs","forEach","createDiscussion","res","add","discussion","reportCount","updates","update","updatedAt","delete","repliesSnapshot","get","batch","commit","FieldValue","increment","lastReplyAt","unreportContent","deleteContent"],"ignoreList":[],"sourceRoot":""}